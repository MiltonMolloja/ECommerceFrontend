<div class="payment-error-container">
  <div class="content-wrapper">
    <!-- Error Icon -->
    <div class="icon-wrapper">
      <div class="error-icon">
        <mat-icon class="icon-x">error_outline</mat-icon>
      </div>
    </div>

    <!-- Title Section -->
    <div class="title-section">
      <h1 class="error-title">¡Pago Fallido!</h1>
      <p class="error-subtitle">No pudimos procesar tu método de pago</p>
    </div>

    <!-- Main Card -->
    <mat-card class="main-card">
      <!-- Alert Box -->
      <div class="alert-box">
        <div class="alert-header">
          <mat-icon class="warning-icon">warning</mat-icon>
          <h4>Acción Requerida</h4>
        </div>
        <p>
          Tu pedido expirará en 24 horas si no completas el pago. Reintentar ahora para continuar
          con tu compra.
        </p>
      </div>

      <!-- Payment Details -->
      <div class="payment-details">
        <div class="section-header">
          <mat-icon>receipt</mat-icon>
          <h3>Detalles del Pago</h3>
        </div>
        <div class="details-list">
          <div class="detail-row">
            <span class="detail-label">Número de Pedido</span>
            <span class="detail-value">{{ orderNumber }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Fecha del Intento</span>
            <span class="detail-value">{{ attemptDate }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Monto</span>
            <span class="detail-value">{{ amount }}</span>
          </div>
          <div class="detail-row last">
            <span class="detail-label">Método de Pago</span>
            <span class="detail-value">{{ paymentMethod }}</span>
          </div>
        </div>
      </div>

      <!-- Reason Box -->
      <div class="reason-box">
        <div class="reason-header">
          <mat-icon>search</mat-icon>
          <h4>Motivo del Rechazo</h4>
        </div>
        <p>{{ failureReason }}</p>
      </div>

      <!-- Action Buttons -->
      <div class="action-buttons">
        <button mat-raised-button color="warn" class="retry-button" (click)="retryPayment()">
          Reintentar Pago
        </button>
        <button mat-stroked-button class="view-order-button" (click)="viewOrder()">
          Ver Pedido
        </button>
      </div>

      <!-- Help Section -->
      <div class="help-section">
        <div class="help-header">
          <mat-icon>lightbulb</mat-icon>
          <h4>¿Necesitas Ayuda?</h4>
        </div>
        <p>
          Si continúas teniendo problemas, puedes:<br />
          • Intentar con otro método de pago<br />
          • Contactar con tu entidad bancaria<br />
          • Comunicarte con nuestro equipo de soporte
        </p>
      </div>
    </mat-card>

    <!-- Footer Links -->
    <div class="footer-links">
      <p class="footer-text">
        Estamos aquí para ayudarte. Si tienes preguntas, no dudes en contactarnos.
      </p>
      <div class="links-container">
        <a
          (click)="contactSupport()"
          (keyup.enter)="contactSupport()"
          tabindex="0"
          class="link-item"
          >Contactar Soporte</a
        >
        <a (click)="goToOrders()" (keyup.enter)="goToOrders()" tabindex="0" class="link-item"
          >Mis Órdenes</a
        >
        <a
          (click)="goToPaymentMethods()"
          (keyup.enter)="goToPaymentMethods()"
          tabindex="0"
          class="link-item"
          >Métodos de Pago</a
        >
      </div>
    </div>
  </div>
</div>
