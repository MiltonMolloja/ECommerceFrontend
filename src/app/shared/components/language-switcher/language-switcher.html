<!-- Botón desktop -->
<button
  mat-button
  [matMenuTriggerFor]="languageMenu"
  class="language-button hide-xs"
  aria-label="Select language"
>
  <mat-icon class="language-icon">language</mat-icon>
  <div class="language-info">
    <span class="language-label">Idioma</span>
    <span class="language-current">{{
      languageService.currentLanguageOption()?.name ?? 'Español'
    }}</span>
  </div>
</button>

<!-- Botón mobile -->
<button
  mat-icon-button
  [matMenuTriggerFor]="languageMenu"
  class="language-button-mobile hide-gt-xs"
  aria-label="Select language"
>
  <mat-icon>language</mat-icon>
</button>

<mat-menu #languageMenu="matMenu">
  @for (lang of languageService.languages; track lang.code) {
    <button
      mat-menu-item
      (click)="changeLanguage(lang.code)"
      [class.active]="lang.code === languageService.currentLanguage()"
    >
      <span class="flag">{{ lang.flag }}</span>
      <span class="language-name">{{ lang.name }}</span>
      @if (lang.code === languageService.currentLanguage()) {
        <mat-icon class="check-icon">check</mat-icon>
      }
    </button>
  }
</mat-menu>
