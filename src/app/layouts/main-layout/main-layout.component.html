<div class="layout-container">
  <!-- Header Principal - Amazon Style -->
  <header class="main-header">
    <!-- Primera fila: Logo, Búsqueda, Cuenta, Carrito -->
    <mat-toolbar class="top-toolbar">
      <div class="header-content">
        <!-- Logo -->
        <a routerLink="/" class="logo">
          <mat-icon class="logo-icon">shopping_bag</mat-icon>
          <span class="logo-text hide-xs">ECommerce</span>
        </a>

        <!-- Barra de búsqueda -->
        <div class="search-bar">
          <mat-form-field appearance="outline" class="search-field">
            <input
              matInput
              placeholder="Buscar productos..."
              [(ngModel)]="searchQuery"
              (keyup.enter)="onSearch()"
            />
          </mat-form-field>
          <button mat-raised-button class="search-button" (click)="onSearch()">
            <mat-icon>search</mat-icon>
          </button>
        </div>

        <!-- Acciones de header -->
        <div class="header-actions">
          <!-- Cuenta y listas -->
          <button mat-button class="account-button hide-xs" [matMenuTriggerFor]="accountMenu">
            <div class="account-info">
              <span class="account-greeting">Hola, Usuario</span>
              <span class="account-label">Cuenta y Listas</span>
            </div>
          </button>
          <mat-menu #accountMenu="matMenu">
            <button mat-menu-item routerLink="/login">
              <mat-icon>login</mat-icon>
              <span>Iniciar Sesión</span>
            </button>
            <button mat-menu-item routerLink="/orders">
              <mat-icon>receipt_long</mat-icon>
              <span>Mis Órdenes</span>
            </button>
          </mat-menu>

          <!-- Solo icono de usuario en móvil -->
          <button mat-icon-button class="hide-gt-xs" routerLink="/login">
            <mat-icon>account_circle</mat-icon>
          </button>

          <!-- Órdenes y devoluciones -->
          <button mat-button class="returns-button hide-xs" routerLink="/orders">
            <div class="account-info">
              <span class="account-greeting">Devoluciones</span>
              <span class="account-label">y Pedidos</span>
            </div>
          </button>

          <!-- Carrito -->
          <button mat-button class="cart-button" routerLink="/cart">
            <mat-icon [matBadge]="cartItemCount()" matBadgeColor="warn" matBadgeSize="small">
              shopping_cart
            </mat-icon>
            <span class="cart-label hide-xs">Carrito</span>
          </button>
        </div>
      </div>
    </mat-toolbar>

    <!-- Segunda fila: Navegación de categorías -->
    <mat-toolbar class="nav-toolbar">
      <div class="nav-content">
        <button mat-button class="nav-button" routerLink="/">
          <mat-icon>home</mat-icon>
          <span>Inicio</span>
        </button>
        @for (category of categories; track category.route) {
          <button mat-button class="nav-button" [routerLink]="category.route">
            {{ category.label }}
          </button>
        }
      </div>
    </mat-toolbar>
  </header>

  <!-- Contenido principal -->
  <main class="content">
    <router-outlet></router-outlet>
  </main>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-section">
        <h3>Conócenos</h3>
        <a href="#">Sobre Nosotros</a>
        <a href="#">Carreras</a>
        <a href="#">Relaciones con Inversionistas</a>
      </div>
      <div class="footer-section">
        <h3>Gana Dinero con Nosotros</h3>
        <a href="#">Vende en ECommerce</a>
        <a href="#">Programa de Afiliados</a>
        <a href="#">Anuncia tus Productos</a>
      </div>
      <div class="footer-section">
        <h3>Podemos Ayudarte</h3>
        <a href="#">Tu Cuenta</a>
        <a href="#">Tus Pedidos</a>
        <a href="#">Devoluciones y Reemplazos</a>
      </div>
      <div class="footer-section">
        <h3>Métodos de Pago</h3>
        <a href="#">Tarjetas de Crédito</a>
        <a href="#">Tarjetas de Débito</a>
        <a href="#">Transferencia Bancaria</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 ECommerce - Todos los derechos reservados</p>
    </div>
  </footer>
</div>
